{
  "type": "object",
  "properties": {
    "items": {
      "description": "Список поставок с маршрутами",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID поставки",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "number": { "type": "number", "description": "Номер поставки", "example": 1 },
          "status": { "type": "string", "description": "Статус поставки", "example": "CREATED" },
          "deliveryDate": {
            "type": "string",
            "description": "Дата поставки",
            "example": "01.01.24"
          },
          "cargoPlaces": {
            "type": "number",
            "description": "Количество грузовых мест",
            "example": 10
          },
          "planQuantity": {
            "type": "number",
            "description": "Плановое количество товаров",
            "example": 1000
          },
          "factQuantity": {
            "type": "number",
            "description": "Фактическое количество товаров",
            "example": 980,
            "nullable": true
          },
          "defects": {
            "type": "number",
            "description": "Количество дефектов",
            "example": 20,
            "nullable": true
          },
          "productsPrice": {
            "type": "number",
            "description": "Стоимость товаров",
            "example": 50000
          },
          "ffServicesPrice": {
            "type": "number",
            "description": "Стоимость услуг фулфилмента",
            "example": 5000
          },
          "logisticsToFFPrice": {
            "type": "number",
            "description": "Стоимость логистики до фулфилмента",
            "example": 3000
          },
          "totalPrice": {
            "type": "number",
            "description": "Общая сумма (товары + услуги + логистика)",
            "example": 58000
          },
          "deliveryNumber": {
            "type": "string",
            "description": "Номер поставки для отображения (последние 5 символов ID)",
            "example": "74000"
          },
          "routes": {
            "description": "Маршруты поставки",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "ID маршрута",
                  "example": "123e4567-e89b-12d3-a456-426614174000"
                },
                "number": {
                  "type": "number",
                  "description": "Порядковый номер маршрута",
                  "example": 1
                },
                "name": {
                  "type": "string",
                  "description": "Название маршрута",
                  "example": "Маршрут 1"
                },
                "status": {
                  "type": "string",
                  "description": "Статус маршрута",
                  "example": "CREATED"
                },
                "deliveryDate": {
                  "type": "string",
                  "description": "Дата доставки",
                  "example": "01.01.24"
                },
                "address": {
                  "type": "string",
                  "description": "Адрес доставки",
                  "example": "Wildberries, Иванов Иван"
                },
                "deliveryNumber": {
                  "type": "string",
                  "description": "Номер поставки",
                  "example": "74000"
                },
                "suppliers": {
                  "description": "Список поставщиков на маршруте",
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "ID поставщика",
                        "example": "123e4567-e89b-12d3-a456-426614174000"
                      },
                      "name": {
                        "type": "string",
                        "description": "Название поставщика",
                        "example": "ООО \"Ромашка\""
                      },
                      "address": {
                        "type": "string",
                        "description": "Адрес поставщика",
                        "example": "Москва, МКАД, 14-й километр, 2, стр. 63"
                      },
                      "contactPerson": {
                        "type": "string",
                        "description": "Контактное лицо",
                        "example": "Иван Иванов"
                      },
                      "contactPhone": {
                        "type": "string",
                        "description": "Контактный телефон",
                        "example": "+7 (999) 123-45-67"
                      },
                      "location": {
                        "type": "string",
                        "description": "Местоположение",
                        "example": "Линия 1, павильон 45"
                      },
                      "isTG": {
                        "type": "boolean",
                        "description": "Является ли поставщик ТГ",
                        "example": true
                      },
                      "number": {
                        "type": "number",
                        "description": "Порядковый номер поставщика",
                        "example": 1
                      },
                      "planQuantity": {
                        "type": "number",
                        "description": "Плановое количество товаров поставщика",
                        "example": 1000
                      },
                      "factQuantity": {
                        "type": "number",
                        "description": "Фактическое количество товаров поставщика",
                        "example": 980
                      },
                      "defects": {
                        "type": "number",
                        "description": "Количество дефектов у поставщика",
                        "example": 20
                      },
                      "productsPrice": {
                        "type": "number",
                        "description": "Стоимость товаров поставщика",
                        "example": 50000
                      },
                      "ffServicesPrice": {
                        "type": "number",
                        "description": "Стоимость услуг фулфилмента для поставщика",
                        "example": 5000
                      },
                      "logisticsToFFPrice": {
                        "type": "number",
                        "description": "Стоимость логистики до фулфилмента для поставщика",
                        "example": 3000
                      },
                      "totalPrice": {
                        "type": "number",
                        "description": "Общая сумма для поставщика (товары + услуги + логистика)",
                        "example": 58000
                      }
                    },
                    "required": ["id", "name"],
                    "x-readme-ref-name": "FFSupplierInfoResponseDto"
                  }
                },
                "planQuantity": {
                  "type": "number",
                  "description": "Плановое количество товаров",
                  "example": 1000
                },
                "factQuantity": {
                  "type": "number",
                  "description": "Фактическое количество товаров (может быть null или \"-\" после создания поставки)",
                  "example": 980,
                  "nullable": true
                },
                "defects": {
                  "type": "number",
                  "description": "Количество дефектов (может быть null или \"-\" после создания поставки)",
                  "example": 20,
                  "nullable": true
                },
                "productsPrice": {
                  "type": "number",
                  "description": "Стоимость товаров",
                  "example": 50000
                },
                "ffServicesPrice": {
                  "type": "number",
                  "description": "Стоимость услуг фулфилмента",
                  "example": 5000
                },
                "logisticsToFFPrice": {
                  "type": "number",
                  "description": "Стоимость логистики до фулфилмента",
                  "example": 3000
                },
                "totalPrice": {
                  "type": "number",
                  "description": "Общая сумма (товары + услуги + логистика)",
                  "example": 58000
                }
              },
              "required": [
                "id",
                "number",
                "name",
                "status",
                "deliveryDate",
                "suppliers",
                "planQuantity",
                "factQuantity",
                "defects",
                "productsPrice",
                "ffServicesPrice",
                "logisticsToFFPrice",
                "totalPrice"
              ],
              "x-readme-ref-name": "FFRouteInfoResponseDto"
            }
          }
        },
        "required": [
          "id",
          "number",
          "status",
          "deliveryDate",
          "cargoPlaces",
          "planQuantity",
          "factQuantity",
          "defects",
          "productsPrice",
          "ffServicesPrice",
          "logisticsToFFPrice",
          "totalPrice",
          "deliveryNumber",
          "routes"
        ],
        "x-readme-ref-name": "FFDeliveryWithRoutesResponseDto"
      }
    },
    "stats": {
      "description": "Статистика по всем поставкам",
      "allOf": [
        {
          "type": "object",
          "properties": {
            "planQuantity": {
              "type": "number",
              "description": "Общее плановое количество товаров",
              "example": 5000
            },
            "factQuantity": {
              "type": "number",
              "description": "Общее фактическое количество товаров",
              "example": 4900
            },
            "defects": {
              "type": "number",
              "description": "Общее количество дефектов",
              "example": 100
            },
            "productsPrice": {
              "type": "number",
              "description": "Общая стоимость товаров",
              "example": 250000
            },
            "ffServicesPrice": {
              "type": "number",
              "description": "Общая стоимость услуг фулфилмента",
              "example": 25000
            },
            "logisticsToFFPrice": {
              "type": "number",
              "description": "Общая стоимость логистики до фулфилмента",
              "example": 15000
            },
            "totalPrice": {
              "type": "number",
              "description": "Общая сумма (товары + услуги + логистика)",
              "example": 290000
            }
          },
          "required": [
            "planQuantity",
            "factQuantity",
            "defects",
            "productsPrice",
            "ffServicesPrice",
            "logisticsToFFPrice",
            "totalPrice"
          ],
          "x-readme-ref-name": "FFDeliveryStatsResponseDto"
        }
      ]
    },
    "total": { "type": "number", "description": "Общее количество поставок", "example": 100 },
    "page": { "type": "number", "description": "Текущая страница", "example": 1 },
    "pages": { "type": "number", "description": "Всего страниц", "example": 10 },
    "limit": { "type": "number", "description": "Количество записей на странице", "example": 10 }
  },
  "required": ["items", "stats", "total", "page", "pages", "limit"],
  "x-readme-ref-name": "FFDeliveryWithRoutesListResponseDto"
}
